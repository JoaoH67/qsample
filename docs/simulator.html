---

title: Simulator


keywords: fastai
sidebar: home_sidebar

summary: "Interface for working with quantum state simulators."
description: "Interface for working with quantum state simulators."
nb_path: "03_simulator.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_simulator.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><a href="/qsam/simulator.html#Simulator"><code>Simulator</code></a> is a base class that all simulators will inherit from. It defines two methods <code>_apply_gate</code> and <code>run</code>, of which only the latter <code>run</code> method exposes the main functionality of a simulator in which we are interested in for applications.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Simulator" class="doc_header"><code>class</code> <code>Simulator</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/simulator.py#L9" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Simulator</code>(<strong><code>n_qubits</code></strong>)</p>
</blockquote>
<p>Interface for quantum state simulation</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A quantum state simulation in the circuit model always consists of some representation of a quantum state and some gates (or a sequence of gates, i.e. a <a href="/qsam/circuit.html#Circuit"><code>Circuit</code></a>) we want to (sequentially) apply to this state. Which gates we can apply depends on the specific simulator we are using. Stabilizer simulators for instance do not include any continuous rotations, while state vector simulators do. Thus, we would expect our <a href="/qsam/simulator.html#Simulator"><code>Simulator</code></a> object to always yield an error when we try to apply gates to it which the simulator cannot simulate. Let's show this for our base simulator class which doesn't contain any gate definition so far, by making use of the <code>_apply_gate</code> method.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Simulator._apply_gate" class="doc_header"><code>Simulator._apply_gate</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/simulator.py#L14" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Simulator._apply_gate</code>(<strong><code>gate_symbol</code></strong>, <strong><code>qubits</code></strong>)</p>
</blockquote>
<p>Apply a gate to the <code>qubits</code> of the current state.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="n">n_qubits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">s</span><span class="o">.</span><span class="n">_apply_gate</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> 
<span class="k">except</span> <span class="ne">AttributeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">e</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;Simulator&#39; object has no attribute &#39;X&#39;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As expected, we get an AttributeError, which means the class doesn't implement anything by the name of this gate ("X"). The way we are going to implement gates later in the simulators is by means of functions which may or may not return something (think measurements, which we treat in the same way as "gates" and for which we want to get some result back). Let's see what happens if we add a gate to our <a href="/qsam/simulator.html#Simulator"><code>Simulator</code></a> class and try to call it.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@patch</span><span class="p">(</span><span class="n">Simulator</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">X</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">qubit</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Simulator</span><span class="p">(</span><span class="n">n_qubits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">_apply_gate</span><span class="p">(</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As expected we get no error.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now, let's focus on the central functionality of the simulator, the <code>run</code> function.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Simulator.run" class="doc_header"><code>Simulator.run</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/simulator.py#L20" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Simulator.run</code>(<strong><code>circuit</code></strong>, <strong><code>fault_circuit</code></strong>=<em><code>None</code></em>)</p>
</blockquote>
<p>Apply gates in <code>circuit</code> sequentially to current state.
If <code>fault_circuit</code> is specified apply fault gates at end of each tick.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>TODO</strong> Tests for <code>run</code> method</p>

</div>
</div>
</div>
</div>


