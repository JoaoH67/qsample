---

title: Sample tools


keywords: fastai
sidebar: home_sidebar

summary: "Collection functions to support sampling."
description: "Collection functions to support sampling."
nb_path: "06_samptools.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 06_samptools.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="comb" class="doc_header"><code>comb</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L11" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>comb</code>(<strong><code>n</code></strong>, <strong><code>k</code></strong>)</p>
</blockquote>
<p>Vectorized function to calculate a combination</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="binom" class="doc_header"><code>binom</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L16" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>binom</code>(<strong><code>k</code></strong>, <strong><code>n</code></strong>, <strong><code>p</code></strong>)</p>
</blockquote>
<p>Vectorized function to calculate binomial function</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Wilson_std" class="doc_header"><code>Wilson_std</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L21" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Wilson_std</code>(<strong><code>p</code></strong>, <strong><code>N</code></strong>, <strong><code>z</code></strong>=<em><code>1.96</code></em>)</p>
</blockquote>
<p>Wilson estimator of std of binomial distribution</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Wilson_var" class="doc_header"><code>Wilson_var</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L27" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Wilson_var</code>(<strong><code>p</code></strong>, <strong><code>N</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Wald_var" class="doc_header"><code>Wald_var</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L31" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Wald_var</code>(<strong><code>p</code></strong>, <strong><code>N</code></strong>)</p>
</blockquote>
<p>Wald variance estimator (known issues, better use Wilson)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Wald_std" class="doc_header"><code>Wald_std</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L35" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Wald_std</code>(<strong><code>p</code></strong>, <strong><code>N</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="std_sum" class="doc_header"><code>std_sum</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L39" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>std_sum</code>(<strong><code>Aws</code></strong>, <strong><code>pws</code></strong>, <strong><code>n_samples</code></strong>, <strong><code>var</code></strong>=<em><code>Wilson_var</code></em>)</p>
</blockquote>
<p>Calculate standard deviation according to Gaussian error propagation
applied to p_L: V_L = sum_i (dp_L/dp_i)^2 * V_i</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="weight_cutoff" class="doc_header"><code>weight_cutoff</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L45" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>weight_cutoff</code>(<strong><code>p_max</code></strong>, <strong><code>delta_max</code></strong>, <strong><code>n_circ_elems</code></strong>)</p>
</blockquote>
<p>Calculate weight cutoff at p_max for delta_max.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Subset selectors</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="balanced_SS_selector" class="doc_header"><code>balanced_SS_selector</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L55" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>balanced_SS_selector</code>(<strong><code>counts</code></strong>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Return index of least sampled SS</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="ERV_SS_selector" class="doc_header"><code>ERV_SS_selector</code><a href="https://github.com/dpwinter/qsam/tree/master/qsam/samptools.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>ERV_SS_selector</code>(<strong><code>counts</code></strong>, <strong><code>fail_counts</code></strong>, <strong><code>var</code></strong>=<em><code>Wilson_var</code></em>, <strong>*<code>args</code></strong>, <strong>**<code>kwargs</code></strong>)</p>
</blockquote>
<p>Return index of SS which yields maximum ERV</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>TODO</strong> Document &amp; test.</p>

</div>
</div>
</div>
</div>


